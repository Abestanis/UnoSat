// *** AUTOGENERATED FILE - Do not edit manually! - Changes will be overwritten! *** //
#include <string.h>
#include "generated/bufferAccessor.h"


size_t simpleBufferAccessorGetAvailableBytes(const BufferAccessor* accessor) {
    SimpleBufferAccessorData* data = ((SimpleBufferAccessorData*) accessor->data);
    return data->size - data->readOffset;
}

bool simpleBufferAccessorPeek(
        const struct BufferAccessor* accessor, void* buffer, size_t size, size_t at) {
    SimpleBufferAccessorData* data = ((SimpleBufferAccessorData*) accessor->data);
    if (data->readOffset + at + size > data->size) {
        return false;
    }
    memcpy(buffer, &((uint8_t *)data->buffer)[data->readOffset + at], size);
    return true;
}

void simpleBufferAccessorAdvance(struct BufferAccessor* accessor, size_t size) {
    SimpleBufferAccessorData* data = ((SimpleBufferAccessorData*) accessor->data);
    if (size > data->size - data->readOffset) {
        size = data->size - data->readOffset;
    }
    data->readOffset += size;
}
